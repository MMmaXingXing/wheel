# JS 创建对象的方式

常见教程上一般会讲js创建对象有三种方式，分别是 工厂模式、构造函数模式、原型模式

## 工厂模式

工厂模式最简单，就是创建一个批量生成对象的函数，是创建对象最容易理解的一种方式

[工厂模式创建对象代码](./factory_function.js)

工厂模式是所有的创建对象中最简单以及最容易的方式，但是这里有一些问题

1、 每次都会被创建一个新的object。

2、 创建的对象类型都是object，与函数无关（对象标识问题，创建的对象都是同一个类型）

## 构造函数模式

可以使用构造函数模式创建特定类型对象，像Array、Object等实际上都是构造函数。

基础版本直接进行对象构造函数创建代码如下

[构造函数模式01](./constructor_function.js)

构造函数需要用new的方式来调用，操作如下

1、 创建了一个新的对象

2、 将新对象的[[prototype]] 赋值为当前构造函数的prototype

[[prototype]] 常用于在书中文档中表示 父级的prototype，与__proto__ 含义相同

3、 对象中的this被指向新创建的这个对象

4、 执行构造函数内部代码（给对象增加新的属性）

5、 有返回返回，没返回返回创建的新对象

构造函数也会产生一些问题：

1、定义的方法会在每个实例上创建一遍。

## 原型模式

涉及原型模式就设计到原型链了，从实现上看，简言之关键属性定义在构造函数中，非关键属性比如方法之类的，则定义在对应构造函数的prototype上。

[原型模式创建对象](./prototype_function.js)

